<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>개노답 하렘 다크 판타지 - Party</title>
    <link rel="icon" href="공통/파비콘.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <nav class="desktop-nav">
            <a href="party.html" class="nav-item active">Party</a>
            <a href="key%20figures.html" class="nav-item">Key Figures</a>
            <a href="faction.html" class="nav-item">Factions</a>
            <a href="monster.html" class="nav-item">Monsters</a>
        </nav>

        <div class="header-logo desktop-logo">
            <a href="https://share.crack.wrtn.ai/v3snwy" target="_blank">
                <img src="공통/플레이.png" alt="Logo">
            </a>
        </div>

        <div class="mobile-header-elements">
            <button class="mobile-menu-btn" aria-label="Menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </header>

    <div class="mobile-menu-overlay">
        <div class="mobile-menu-header">
            <button class="mobile-menu-close" aria-label="Close"></button>
        </div>
        <nav class="mobile-nav-links">
            <a href="party.html" class="mobile-nav-item">Party</a>
            <a href="key%20figures.html" class="mobile-nav-item">Key Figures</a>
            <a href="faction.html" class="mobile-nav-item">Factions</a>
            <a href="monster.html" class="mobile-nav-item">Monsters</a>
        </nav>
        <div class="mobile-menu-logo">
            <img src="공통/플레이.png" alt="Logo">
        </div>
    </div>

    <main>
        <div class="background-layer">
            <img class="bg-image" src="메인 페이지/배경.png" alt="Background">
            <div class="overlay"></div>
        </div>

        <div class="content-layer">
            <div class="party-container">
                <!-- Top Image -->
                <img class="party-title-img" src="파티원/파티원.png" alt="Party Title">

                <!-- Member Cards -->
                <div class="party-members-row">
                    <!-- Braca -->
                    <div class="member-wrapper" data-name="브라카" data-tag="팔씨름 챔피언 / 24세 / ESTP"
                        data-desc="든든하고 호탕한 돌머리 근육녀입니다. 단순한 임무도, 복잡한 임무도 문제 없죠. 전부 통째로 박살내 버리면 그만이니까요."
                        data-bg="파티원/브라카 상세.png">
                        <img class="member-card" src="파티원/브라카 썸네일.png" alt="브라카">
                        <div class="mobile-info-overlay">
                            <div class="mobile-info-name">브라카</div>
                            <div class="mobile-info-tag-container">
                                <div class="mobile-info-tag">팔씨름 챔피언 / 24세 / ESTP</div>
                            </div>
                            <div class="mobile-info-desc">든든하고 호탕한 돌머리 근육녀입니다. 단순한 임무도, 복잡한 임무도 문제 없죠. 전부 통째로 박살내 버리면
                                그만이니까요.</div>
                        </div>
                    </div>

                    <!-- Miyu -->
                    <div class="member-wrapper" data-name="미유" data-tag="벨루즈의 골칫덩이 / 20세 / ESFP"
                        data-desc="벨루즈 가문에서 버림받은 비운의 영애입니다. 뭐, 사실 어느 집안에서 태어났더라도 내다 버리고 싶은 성질머리입니다."
                        data-bg="파티원/미유 상세.png">
                        <img class="member-card" src="파티원/미유 썸네일.png" alt="미유">
                        <div class="mobile-info-overlay">
                            <div class="mobile-info-name">미유</div>
                            <div class="mobile-info-tag-container">
                                <div class="mobile-info-tag">벨루즈의 골칫덩이 / 20세 / ESFP</div>
                            </div>
                            <div class="mobile-info-desc">벨루즈 가문에서 버림받은 비운의 영애입니다. 뭐, 사실 어느 집안에서 태어났더라도 내다 버리고 싶은
                                성질머리입니다.</div>
                        </div>
                    </div>

                    <!-- Erbel -->
                    <div class="member-wrapper" data-name="에르벨" data-tag="잡지식계의 대현자 / 22세 / INTP"
                        data-desc="세계 최강의 두뇌를 가진 학자입니다. 그 분야가 '아르케논의 천 가지 알쓸신잡' 같은 종류긴 하지만 말이죠."
                        data-bg="파티원/에르벨 상세.png">
                        <img class="member-card" src="파티원/에르벨 썸네일.png" alt="에르벨">
                        <div class="mobile-info-overlay">
                            <div class="mobile-info-name">에르벨</div>
                            <div class="mobile-info-tag-container">
                                <div class="mobile-info-tag">잡지식계의 대현자 / 22세 / INTP</div>
                            </div>
                            <div class="mobile-info-desc">세계 최강의 두뇌를 가진 학자입니다. 그 분야가 '아르케논의 천 가지 알쓸신잡' 같은 종류긴 하지만 말이죠.
                            </div>
                        </div>
                    </div>

                    <!-- Irma -->
                    <div class="member-wrapper" data-name="이르마" data-tag="마왕 다음 가는 음침함 / 26세 / ISFJ"
                        data-desc="음침하고 소심한 겁쟁이지만 상당한 잠재 마력을 지녔습니다. 그 마력의 저장소가 어디인지는 대충 알 것 같군요."
                        data-bg="파티원/이르마 상세.png">
                        <img class="member-card" src="파티원/이르마 썸네일.png" alt="이르마">
                        <div class="mobile-info-overlay">
                            <div class="mobile-info-name">이르마</div>
                            <div class="mobile-info-tag-container">
                                <div class="mobile-info-tag">마왕 다음 가는 음침함 / 26세 / ISFJ</div>
                            </div>
                            <div class="mobile-info-desc">음침하고 소심한 겁쟁이지만 상당한 잠재 마력을 지녔습니다. 그 마력의 저장소가 어디인지는 대충 알 것 같군요.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Overlay -->
                <div id="member-modal" class="modal-overlay">
                    <div class="modal-content" id="modal-content-bg">
                        <!-- Close Button -->
                        <div class="modal-close" onclick="closeModal()"></div>

                        <!-- Gradient & Text -->
                        <div class="modal-gradient">
                            <div class="modal-name" id="modal-name">Character Name</div>
                            <div class="modal-tag">
                                <span class="modal-tag-text" id="modal-tag">Job / Age / MBTI</span>
                            </div>
                            <div class="modal-desc" id="modal-desc">
                                Character description goes here.
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        // Party Page Logic
        const modal = document.getElementById('member-modal');
        const modalContentBg = document.getElementById('modal-content-bg');
        const modalName = document.getElementById('modal-name');
        const modalTag = document.getElementById('modal-tag');
        const modalDesc = document.getElementById('modal-desc');
        const wrappers = document.querySelectorAll('.member-wrapper');

        // Mobile Image Swap Logic
        function updateImages() {
            const isMobile = window.innerWidth <= 768;
            wrappers.forEach(wrapper => {
                const img = wrapper.querySelector('.member-card');
                const mobileSrc = wrapper.getAttribute('data-bg');

                if (!img.getAttribute('data-thumb')) {
                    img.setAttribute('data-thumb', img.getAttribute('src'));
                }
                const thumbSrc = img.getAttribute('data-thumb');

                // If mobile, use detail image (data-bg). If desktop, use thumbnail (data-thumb).
                if (isMobile && mobileSrc) {
                    img.src = mobileSrc;
                } else if (thumbSrc) {
                    img.src = thumbSrc;
                }
            });
        }
        window.addEventListener('load', updateImages);
        window.addEventListener('resize', updateImages);

        wrappers.forEach(wrapper => {
            wrapper.addEventListener('click', (e) => {
                // Check if mobile view (based on overlay display or approximate width)
                if (window.innerWidth <= 768) {
                    // Mobile Behavior: Toggle active class

                    // Close others to keep UI clean?
                    wrappers.forEach(w => {
                        if (w !== wrapper) w.classList.remove('active');
                    });

                    wrapper.classList.toggle('active');
                } else {
                    // Desktop Behavior: Open Modal
                    const name = wrapper.getAttribute('data-name');
                    const tag = wrapper.getAttribute('data-tag');
                    const desc = wrapper.getAttribute('data-desc');
                    const bg = wrapper.getAttribute('data-bg');

                    modalName.textContent = name;
                    modalTag.textContent = tag;
                    modalDesc.textContent = desc;

                    modalContentBg.style.backgroundImage = `url('${bg}')`;
                    modal.classList.add('active');
                }
            });
        });

        // Close Modal
        function closeModal() {
            modal.classList.remove('active');
        }

        // Close on outside click is less critical as structure wraps it, 
        // but modal overlay is absolute over container.
        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
        }

        const menuBtn = document.querySelector('.mobile-menu-btn');
        const closeBtn = document.querySelector('.mobile-menu-close');
        const menuOverlay = document.querySelector('.mobile-menu-overlay');

        function toggleMenu() {
            menuOverlay.classList.toggle('active');
            document.body.style.overflow = menuOverlay.classList.contains('active') ? 'hidden' : '';
        }

        if (menuBtn) menuBtn.addEventListener('click', toggleMenu);
        if (closeBtn) closeBtn.addEventListener('click', toggleMenu);
    </script>
</body>

</html>